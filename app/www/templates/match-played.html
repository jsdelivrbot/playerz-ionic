<ion-view title="Match terminé" id="match-played">
    <ion-nav-bar class="bar-positive" align-title="center">
        <ion-nav-back-button class="button-clear">
        </ion-nav-back-button>
        <ion-nav-buttons side="secondary">
            <button class="button button-icon icon ion-ios-minus-outline" ng-click="played.showDelete = !played.showDelete">
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content>
        <ion-slide-box on-slide-changed="slideHasChanged($index)" style="height: 20vh">
            <ion-slide>
                <div class="chart" style="width : 80%; padding-top: 5vh">
                    <div style="width: {{played.scale(played.statisticsGlobal.totalBallLost)}}%">{{played.statisticsGlobal.totalBallLost}}</div>
                    <div style="width: {{played.scale(played.statisticsGlobal.totalBallPlayed)}}%">{{played.statisticsGlobal.totalBallPlayed}}</div>
                </div>
            </ion-slide>
            <ion-slide>
                <div class="box yellow" style="background: yellow; height: 20vh">
                    <h1>YELLOW</h1></div>
            </ion-slide>
            <ion-slide>
                <div class="box pink" style="background: pink; height: 20vh">
                    <h1>PINK</h1></div>
            </ion-slide>
        </ion-slide-box>
        <!-- <p>Match jouées : {{played.nbrMatchFinished}} </p>
        <p>
            Statistiques Global : {{played.statisticsGlobal}}
        </p> -->
        <div class="row">
            <div class="col">
                <label class="item item-input">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="text" placeholder="Rechercher un match" ng-model="played.searchMatch">
                </label>
                </br>

                <ion-list show-delete="played.showDelete">
                    <ion-item class="item text-center" ng-repeat="match in played.matchs | filter:played.searchMatch" ui-sref="stat-end-match({matchId: match._id})" ng-click="played.saveMatchID(match._id)">
                        <div id="div-result" ng-class="{backgroundGreen: match.result === 'victory' , backgroundRed: match.result === 'defeat', backgroundGrey: match.result === 'draw'}"  >
                            <p>

                                <b>{{match.result | getResult}}</b>

                            </p>
                        </div>
                        <div>
                            <h2 ng-bind-html="played.getBillingName(match)">  </h2>
                            <h3>{{match.date | date:'fullDate'}}</h3>
                        </div>
                        <p ng-if="match.place === 'Domicile'">
                            <b>{{match.statistics.totalBut}} - {{match.statistics.but_opponent}}</b>
                        </p>
                        <p ng-if="match.place === 'Exterieur'">  
                            <b>{{match.statistics.but_opponent}} - {{match.statistics.totalBut}}</b>
                        </p>


                        <!-- <ion-delete-button class="ion-minus-circled" ng-click="played.removeMatch(match._id)"></ion-delete-button> -->
                        <ion-option-button class="button icon ion-ios-trash-outline" ng-click="played.removeMatch(match._id)"></ion-option-button>
                    </ion-item>
                </ion-list>
            </div>
        </div>
    </ion-content>

</ion-view>
